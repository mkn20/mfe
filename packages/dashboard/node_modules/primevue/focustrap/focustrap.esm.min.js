import{DomHandler as e}from"primevue/utils";let t,n,s,o=!1;function u(){if(o)s.focus();else{const n=e.getFirstFocusableElement(t,":not(.p-hidden-focusable)");e.focus(n)}}function a(){if(o){const n=e.getLastFocusableElement(t,":not(.p-hidden-focusable)");e.focus(n)}else n.focus()}function c(e){const t=document.createElement("span");return t.classList="p-hidden-accessible p-hidden-focusable",t.tabIndex="0",t.setAttribute("aria-hidden","true"),t.setAttribute("role","presentation"),t.addEventListener("focus",e),t}const l={mounted(l,i,r){e.getFirstFocusableElement(l,":not(.p-hidden-focusable)")&&(l.$_pfocustrapFocusTrapDisabled=!1,i.value&&"object"==typeof i.value&&(l.$_pfocustrapFocusTrapDisabled=i.value.focusTrapDisabled),l.$_pfocustrapFocusTrapDisabled||(t=l,function(e){n=c(u),s=c(a),e.prepend(n),e.append(s)}(l),function(e){e.$_pfocustrap_keydownlistener=e=>{"Tab"===e.code&&(o=e.shiftKey)},e.addEventListener("keydown",e.$_pfocustrap_keydownlistener)}(l)))},unmounted(e){t=null,n=null,s=null,o=!1,function(e){e.$_pfocustrap_keydownlistener&&(e.removeEventListener("keydown",e.$_pfocustrap_keydownlistener),e.$_pfocustrap_keydownlistener=null)}(e)}};export{l as default};
