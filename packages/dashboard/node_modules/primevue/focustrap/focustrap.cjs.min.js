"use strict";var e=require("primevue/utils");let t,n,o,s=!1;function u(){if(s)o.focus();else{const n=e.DomHandler.getFirstFocusableElement(t,":not(.p-hidden-focusable)");e.DomHandler.focus(n)}}function a(){if(s){const n=e.DomHandler.getLastFocusableElement(t,":not(.p-hidden-focusable)");e.DomHandler.focus(n)}else n.focus()}function l(e){const t=document.createElement("span");return t.classList="p-hidden-accessible p-hidden-focusable",t.tabIndex="0",t.setAttribute("aria-hidden","true"),t.setAttribute("role","presentation"),t.addEventListener("focus",e),t}const r={mounted(r,c,d){e.DomHandler.getFirstFocusableElement(r,":not(.p-hidden-focusable)")&&(r.$_pfocustrapFocusTrapDisabled=!1,c.value&&"object"==typeof c.value&&(r.$_pfocustrapFocusTrapDisabled=c.value.focusTrapDisabled),r.$_pfocustrapFocusTrapDisabled||(t=r,function(e){n=l(u),o=l(a),e.prepend(n),e.append(o)}(r),function(e){e.$_pfocustrap_keydownlistener=e=>{"Tab"===e.code&&(s=e.shiftKey)},e.addEventListener("keydown",e.$_pfocustrap_keydownlistener)}(r)))},unmounted(e){t=null,n=null,o=null,s=!1,function(e){e.$_pfocustrap_keydownlistener&&(e.removeEventListener("keydown",e.$_pfocustrap_keydownlistener),e.$_pfocustrap_keydownlistener=null)}(e)}};module.exports=r;
